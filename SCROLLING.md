# Горизонтальный скроллинг в TUI

## Реализованная функциональность

В TUI добавлена поддержка горизонтального скроллинга для чтения длинного текста, который не помещается в терминал.

### Управление

#### Мышь (единственный способ)
- **Shift + Scroll Up** - скроллинг влево (на 3 символа)
- **Shift + Scroll Down** - скроллинг вправо (на 3 символа)
- **Esc** - сброс скроллинга (автоматически при выходе из detail view)

### Особенности реализации

1. **Скроллится только содержимое** - границы таблицы (`|` и `+`) остаются неподвижными, скроллится только текст внутри ячеек
2. **Сохранение структуры** - таблица не ломается при скроллинге, все колонки остаются выровненными
3. **Индикатор скроллинга** - в footer отображается текущий offset когда скроллинг активен
4. **Работает во всех режимах** - в списке задач и в детальном просмотре
5. **Полное покрытие** - скроллятся все поля: Title, Description, Notes, Subtasks, Dependencies и т.д.

### Технические детали

- Скроллинг применяется на уровне данных при создании содержимого ячеек
- Все цвета и форматирование сохраняются
- Максимальный offset: 200 символов
- Offset сбрасывается при выходе из detail view (Esc)

## Примеры использования

```bash
# Запустить TUI
./tasks.py tui

# В TUI:
# 1. Нажать Enter на задаче для просмотра деталей
# 2. Если описание длинное, нажать Right или l для скроллинга вправо
# 3. Нажать Left или h для возврата назад
# 4. Нажать Home для сброса скроллинга
```

## Код

### Где применяется скроллинг

Скроллинг применяется на уровне данных в следующих местах:

**В списке задач (`get_task_list_text`):**
- Title (название задачи)
- Notes/Description (описание)

**В детальном просмотре (`get_detail_text`):**
- Title (заголовок)
- Description (описание - по каждой строке)
- Subtasks (подзадачи)
- Next Steps (следующие шаги)
- Dependencies (зависимости)
- Success Criteria (критерии успеха)
- Problems (проблемы)
- Risks (риски)

### Основные методы

- `apply_horizontal_scroll(text)` - базовый метод обрезки текста по offset
- `scroll_line_preserve_borders(line)` - вспомогательный метод (не используется в текущей реализации)
- `apply_scroll_to_formatted(formatted_items)` - вспомогательный метод (не используется в текущей реализации)

### Принцип работы

```python
# Пример применения скроллинга к title
title_raw = task.name
if self.horizontal_offset > 0:
    title_raw = title_raw[self.horizontal_offset:] if len(title_raw) > self.horizontal_offset else ""
title = title_raw[:title_w] if len(title_raw) > title_w else title_raw.ljust(title_w)
```

## Тестирование

```python
from tasks import TaskTrackerTUI
from pathlib import Path

tui = TaskTrackerTUI(Path('.tasks'))

# Проверка скроллинга содержимого
print('Offset=0:', tui.tasks[0].name)

tui.horizontal_offset = 10
scrolled_name = tui.tasks[0].name[10:]
print('Offset=10:', scrolled_name)

# Результат: только текст скроллится, границы таблицы остаются на месте
```
